<Page
    mc:Ignorable="d"
    x:Class="HyPlayer.Pages.Settings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:controls1="using:HyPlayer.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hyplayer="using:HyPlayer"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Pivot
        FontFamily="Black"
        Margin="0,0,0,150"
        Title="设置">
        <PivotItem
            FontFamily="Thick"
            Header="歌词设置"
            Margin="30,10,0,0">
            <ScrollViewer VerticalScrollMode="Enabled">
                <StackPanel Orientation="Vertical" x:Name="StackPanelLyricSet">
                    <TextBlock FontSize="36" Text="罗马音设置" />
                    <TextBlock
                        Margin="0,10,0,0"
                        Text="获取中"
                        x:Name="RomajiStatus" />
                    <Button
                        Click="ButtonBase_OnClick"
                        Content="获取罗马音资源文件"
                        Margin="0,10,0,0"
                        Style="{StaticResource ButtonRevealStyle}" />
                    <TextBlock FontSize="36" Text="歌词大小设置" />
                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="歌词大小 (负数为自动)" VerticalAlignment="Center" />
                        <controls:NumberBox
                            Grid.Column="1"
                            LargeChange="5"
                            Margin="0,10,0,0"
                            SmallChange="1"
                            SpinButtonPlacementMode="Compact"
                            Value="{x:Bind hyplayer:Common.Setting.lyricSize, Mode=OneTime}"
                            ValueChanged="LyricSize_OnValueChanged"
                            Width="100"
                            x:Name="LyricSize" />
                    </Grid>

                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="罗马音大小 (默认为 15)" VerticalAlignment="Center" />
                        <controls:NumberBox
                            Grid.Column="1"
                            LargeChange="5"
                            Margin="0,10,0,0"
                            SmallChange="1"
                            SpinButtonPlacementMode="Compact"
                            Value="{x:Bind hyplayer:Common.Setting.romajiSize, Mode=TwoWay}"
                            Width="100"
                            x:Name="RomajiSize" />
                    </Grid>
                    <CheckBox
                        Content="是否左对齐"
                        IsChecked="{x:Bind hyplayer:Common.Setting.lyricAlignment, Mode=TwoWay}"
                        x:Name="CheckBoxAlignment" />
                    <!--<CheckBox
                        x:Name="CheckBoxLyricShadow"
                        Content="是否产生阴影"
                        IsChecked="{x:Bind hyplayer:Common.Setting.lyricDropshadow, Mode=TwoWay}" />-->
                    <controls:RadioButtons
                        FontSize="20"
                        Header="歌词颜色"
                        MaxColumns="4"
                        SelectedIndex="{x:Bind hyplayer:Common.Setting.lyricColor, Mode=TwoWay}">
                        <RadioButton Content="自动" />
                        <RadioButton Content="白色" />
                        <RadioButton Content="黑色" />
                    </controls:RadioButtons>
                </StackPanel>
            </ScrollViewer>
        </PivotItem>
        <PivotItem FontFamily="Thick" Header="播放设置">
            <ScrollViewer VerticalScrollMode="Enabled">
                <StackPanel Orientation="Vertical">
                    <controls:RadioButtons
                        FontSize="20"
                        Header="在线播放音质:"
                        MaxColumns="4"
                        x:Name="RadioButtonsSongBr">
                        <RadioButton
                            Checked="RadioButton_Checked"
                            Content="标准 (128k)"
                            Tag="128000" />
                        <RadioButton
                            Checked="RadioButton_Checked"
                            Content="较高 (192k)"
                            Tag="192000" />
                        <RadioButton
                            Checked="RadioButton_Checked"
                            Content="极高 (320k)"
                            Tag="320000" />
                        <RadioButton
                            Checked="RadioButton_Checked"
                            Content="无损 (VIP)"
                            Tag="999000" />
                    </controls:RadioButtons>
                    <ToggleSwitch
                        Header="切歌渐入渐出："
                        IsOn="{x:Bind hyplayer:Common.Setting.fadeInOut, Mode=TwoWay}"
                        x:Name="FadeInOut" />
                    <Slider
                        Header="切歌渐入渐出时间 单位: s"
                        HorizontalAlignment="Left"
                        Maximum="6"
                        Minimum="0"
                        ToolTipService.ToolTip="{x:Bind FadeTime.Value}"
                        Value="{x:Bind hyplayer:Common.Setting.fadeInOutTime, Mode=TwoWay}"
                        Visibility="{x:Bind hyplayer:Common.Setting.fadeInOut, Mode=OneWay}"
                        Width="300"
                        x:Name="FadeTime" />
                    <ToggleSwitch Header="播放暂停渐入渐出" IsOn="{x:Bind hyplayer:Common.Setting.fadeInOutPause, Mode=TwoWay}" />
                    <Slider
                        Header="渐入渐出时间 单位: 0.1s"
                        HorizontalAlignment="Left"
                        Maximum="10"
                        Minimum="0"
                        ToolTipService.ToolTip="{x:Bind FadeTimePause.Value}"
                        Value="{x:Bind hyplayer:Common.Setting.fadeInOutTimePause, Mode=TwoWay}"
                        Visibility="{x:Bind hyplayer:Common.Setting.fadeInOutPause, Mode=OneWay}"
                        Width="300"
                        x:Name="FadeTimePause" />
                    <Border Height="15" />
                    <CheckBox Content="圆形唱片" IsChecked="{x:Bind hyplayer:Common.Setting.albumRound, Mode=TwoWay}" />
                    <CheckBox Content="唱片旋转" IsChecked="{x:Bind hyplayer:Common.Setting.albumRotate, Mode=TwoWay}" />
                    <Slider
                        Header="唱片边框厚度 (0 为无边框)"
                        HorizontalAlignment="Left"
                        Maximum="280"
                        Minimum="0"
                        ToolTipService.ToolTip="{x:Bind SliderAlbumBorderLength.Value}"
                        Value="{x:Bind hyplayer:Common.Setting.albumBorderLength, Mode=TwoWay}"
                        Width="300"
                        x:Name="SliderAlbumBorderLength" />
                </StackPanel>
            </ScrollViewer>
        </PivotItem>
        <PivotItem FontFamily="Thick" Header="存储设置">
            <ScrollViewer VerticalScrollMode="Enabled">
                <StackPanel Orientation="Vertical">
                    <Grid MaxWidth="1000">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="50" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="下载路径" />
                        <TextBlock
                            Grid.Column="1"
                            Text="{x:Bind hyplayer:Common.Setting.downloadDir, Mode=TwoWay}"
                            x:Name="TextBoxDownloadDir" />
                        <Button
                            Click="ButtonDownloadSelect_OnClick"
                            Content="选择"
                            Grid.Column="2"
                            Style="{StaticResource ButtonRevealStyle}"
                            x:Name="ButtonDownloadSelect" />
                    </Grid>
                    <Grid MaxWidth="1000" Visibility="{x:Bind hyplayer:Common.Setting.enableCache, Mode=OneWay}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="50" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="缓存路径" />
                        <TextBlock
                            Grid.Column="1"
                            Text="{x:Bind hyplayer:Common.Setting.cacheDir, Mode=TwoWay}"
                            x:Name="TextBoxCacheDir" />
                        <Button
                            Click="ButtonCacheSelect_OnClick"
                            Content="选择"
                            Grid.Column="2"
                            Style="{StaticResource ButtonRevealStyle}"
                            x:Name="ButtonCacheSelect" />
                    </Grid>
                    <Button
                        Click="ClearHistory_Click"
                        Content="清除历史记录"
                        Style="{StaticResource ButtonRevealStyle}"
                        x:Name="ClearHistory" />
                </StackPanel>
            </ScrollViewer>
        </PivotItem>
        <PivotItem FontFamily="Thick" Header="实验室">
            <ScrollViewer VerticalScrollMode="Enabled">
                <StackPanel Orientation="Vertical">
                    <Grid MaxWidth="1000">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="50" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="X-Real-IP (置空不设置)" />
                        <TextBox Grid.Column="1" x:Name="TextBoxXREALIP" />
                        <Button
                            Click="ButtonXREALIPSave_OnClick"
                            Content="设置"
                            Grid.Column="2"
                            Style="{StaticResource ButtonRevealStyle}"
                            x:Name="ButtonXREALIPSave" />
                    </Grid>
                    <Grid MaxWidth="1000">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="50" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="代理服务器 (置空不设置)" />
                        <TextBox Grid.Column="1" x:Name="TextBoxPROXY" />
                        <Button
                            Click="ButtonPROXYSave_OnClick"
                            Content="设置"
                            Grid.Column="2"
                            Style="{StaticResource ButtonRevealStyle}"
                            x:Name="ButtonPROXYSave" />
                    </Grid>
                    <!--<CheckBox
                        x:Name="LazySongUrlGetCheck"
                        Content="是否在播放时才获取播放链接"
                        IsChecked="{x:Bind hyplayer:Common.Setting.songUrlLazyGet, Mode=TwoWay}" />-->
                    <CheckBox
                        Content="是否开启播放缓存 (可能造成播放前空白)"
                        IsChecked="{x:Bind hyplayer:Common.Setting.enableCache, Mode=TwoWay}"
                        x:Name="CBSongCacheEnable" />
                    <CheckBox
                        Checked="ControlSoundChecked"
                        Content="是否开启 UI 音效"
                        IsChecked="{x:Bind hyplayer:Common.Setting.uiSound, Mode=TwoWay}"
                        Unchecked="ControlSoundUnChecked"
                        x:Name="ControlSoundCheck" />
                    <CheckBox
                        Content="是否同时开启传统SMTC控制 (可能会减小后台闪退几率,重启后生效)"
                        IsChecked="{x:Bind hyplayer:Common.Setting.ancientSMTC, Mode=TwoWay}"
                        x:Name="CBOldSMTC" />
                    <CheckBox
                        Content="是否输出高清图片到SMTC"
                        IsChecked="{x:Bind hyplayer:Common.Setting.highQualityCoverInSMTC, Mode=TwoWay}"
                        x:Name="HighQualityCoverInSMTC" />
                    <controls:RadioButtons
                        FontSize="20"
                        Header="颜色模式: (修改将在重启 HyPlayer 后生效)"
                        MaxColumns="3"
                        SelectedIndex="{x:Bind hyplayer:Common.Setting.themeRequest, Mode=TwoWay}"
                        SelectionChanged="RadioButtonsTheme_SelectionChanged"
                        x:Name="RadioButtonsTheme">
                        <RadioButton Content="跟随系统" />
                        <RadioButton Content="亮色" />
                        <RadioButton Content="暗色" />
                    </controls:RadioButtons>
                    <Button
                        Click="RestartBtn_Click"
                        Content="立即重启"
                        Style="{StaticResource ButtonRevealStyle}"
                        VerticalAlignment="Center"
                        Visibility="Collapsed"
                        x:Name="RestartBtn" />

                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Text="歌词页面封面阴影强度 (0为无阴影)" VerticalAlignment="Center" />
                        <controls:NumberBox
                            Grid.Column="1"
                            LargeChange="5"
                            SmallChange="1"
                            SpinButtonPlacementMode="Compact"
                            Value="{x:Bind hyplayer:Common.Setting.expandedCoverShadowDepth, Mode=OneTime}"
                            ValueChanged="NBShadowDepth_OnValueChanged"
                            Width="100"
                            x:Name="NBShadowDepth" />
                    </Grid>
                    <Button
                        Click="BtnXboxReserve_Click"
                        Content="Xbox 进后台模式"
                        Style="{StaticResource ButtonRevealStyle}"
                        x:Name="BtnXboxReserve" />
                    <CheckBox Content="完整模式 (显示发现及评论入口)" IsChecked="{x:Bind hyplayer:Common.Setting.notClearMode, Mode=TwoWay}" />
                </StackPanel>
            </ScrollViewer>
        </PivotItem>
        <PivotItem FontFamily="Thick" Header="关于">
            <ScrollViewer VerticalScrollMode="Enabled">
                <StackPanel Orientation="Vertical">
                    <Image
                        Height="100"
                        HorizontalAlignment="Left"
                        Source="/Assets/icon.png"
                        Width="100" />
                    <RichTextBlock>
                        <Paragraph
                            FontFamily="Thick"
                            FontSize="25"
                            Margin="0,10,0,0">
                            HyPlayer
                        </Paragraph>
                        <Paragraph Margin="0,5,0,0">This is an open-source project under GPL-v3 Licence</Paragraph>
                        <Paragraph Margin="0,5,0,0">
                            <Hyperlink NavigateUri="https://github.com/HyPlayer/HyPlayer">
                                Github
                            </Hyperlink>
                            |<Hyperlink NavigateUri="https://gitee.com/kengwang/HyPlayer">
                                Gitee
                            </Hyperlink>
                        </Paragraph>
                        <Paragraph Margin="0,5,0,0">Copyright © HyPlayer Develop Team 2021</Paragraph>
                        <Paragraph>HyPlayer is licensed under the GNU General Public License v3.0</Paragraph>
                    </RichTextBlock>
                    <TextBlock x:Name="VersionCode" />
                    <TextBlock RightTapped="DeviceInfo_RightTapped" x:Name="DeviceInfo">
                        <TextBlock.ContextFlyout>
                            <MenuFlyout>
                                <MenuFlyoutItem
                                    Click="CopyDeviceCode_Click"
                                    Icon="Copy"
                                    Style="{StaticResource MenuFlyoutItemRevealStyle}"
                                    Text="复制设备识别码" />
                            </MenuFlyout>
                        </TextBlock.ContextFlyout>
                    </TextBlock>
                    <TextBlock
                        FontFamily="Thick"
                        FontSize="25"
                        Text="开发者" />
                    <StackPanel
                        DoubleTapped="StackPanel_DoubleTapped"
                        Margin="10,20,0,0"
                        Orientation="Horizontal"
                        Tapped="UIElement_OnTapped">
                        <PersonPicture ProfilePicture="https://thirdqq.qlogo.cn/g?b=sdk&amp;k=GibeJPa6pAcRMKgoHC9ibI4w&amp;s=100" />
                        <StackPanel Margin="15,0,0,0" Orientation="Vertical">
                            <TextBlock FontSize="18" FontWeight="Medium">
                                Kengwang
                            </TextBlock>
                            <TextBlock
                                FontSize="15"
                                FontWeight="Medium"
                                Foreground="Gray">
                                Developer
                            </TextBlock>
                            <TextBlock
                                FontSize="15"
                                FontWeight="Light"
                                Foreground="Gray">
                                Stay Cool~
                            </TextBlock>
                            <RichTextBlock>
                                <Paragraph>
                                    <Hyperlink NavigateUri="https://github.com/kengwang">
                                        Github
                                    </Hyperlink>
                                    |<Hyperlink NavigateUri="https://blog.kengwang.co">
                                        博客
                                    </Hyperlink>
                                    |<Hyperlink NavigateUri="http://www.coolapk.com/u/1683034">
                                        酷安@kengwang
                                    </Hyperlink>
                                    |<Hyperlink NavigateUri="https://afdian.net/@kengwang">
                                        爱发电打赏
                                    </Hyperlink>
                                </Paragraph>
                            </RichTextBlock>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel
                        DoubleTapped="StackPanel_DoubleTapped"
                        Margin="10,20,0,0"
                        Orientation="Horizontal"
                        Tapped="UIElement_OnTapped">
                        <PersonPicture ProfilePicture="https://thirdqq.qlogo.cn/g?b=sdk&amp;k=eHh3SVVDUJKHf1I5XD7CPg&amp;s=100" />
                        <StackPanel Margin="15,0,0,0" Orientation="Vertical">
                            <TextBlock FontSize="18" FontWeight="Medium">
                                aaaaaaccd
                            </TextBlock>
                            <TextBlock
                                FontSize="15"
                                FontWeight="Medium"
                                Foreground="Gray">
                                Design
                            </TextBlock>
                            <TextBlock
                                FontSize="15"
                                FontWeight="Light"
                                Foreground="Gray">
                                HyPlayer Team EasyCraft Team Waifu2X4A
                            </TextBlock>
                            <RichTextBlock>
                                <Paragraph>
                                    <Hyperlink NavigateUri="https://github.com/aaaaaaccd">
                                        Github
                                    </Hyperlink>
                                    |<Hyperlink NavigateUri="https://www.coolapk.com/u/2409682">
                                        酷安@一只老白
                                    </Hyperlink>
                                </Paragraph>
                            </RichTextBlock>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel
                        DoubleTapped="StackPanel_DoubleTapped"
                        Margin="10,20,0,0"
                        Orientation="Horizontal"
                        Tapped="UIElement_OnTapped">
                        <PersonPicture ProfilePicture="https://himg.bdimg.com/sys/portraitn/item/0fd16570303132303134g930801000000" />
                        <StackPanel Margin="15,0,0,0" Orientation="Vertical">
                            <TextBlock FontSize="18" FontWeight="Medium">
                                EP012014
                            </TextBlock>
                            <TextBlock
                                FontSize="15"
                                FontWeight="Medium"
                                Foreground="Gray">
                                Developer
                            </TextBlock>
                            <TextBlock
                                FontSize="15"
                                FontWeight="Light"
                                Foreground="Gray">
                                跨越，跨越，不择手段地跨越！
                            </TextBlock>
                            <RichTextBlock>
                                <Paragraph>
                                    <Hyperlink NavigateUri="https://github.com/EP012014">
                                        Github
                                    </Hyperlink>
                                    |</Paragraph>
                            </RichTextBlock>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </PivotItem>
    </Pivot>
</Page>